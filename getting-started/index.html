


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.0">
    
    
      
        <title>Getting Started - pyTRIS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.b5d04df8.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.9ab2c1f8.min.css">
      
      
        
        
        <meta name="theme-color" content="#e91e63">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="pink" data-md-color-accent="blue">
  
    
      <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creating-an-api-object" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="pyTRIS" class="md-header-nav__button md-logo" aria-label="pyTRIS">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            pyTRIS
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/asongtoruin/pyTRIS/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    asongtoruin/pyTRIS
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="pyTRIS" class="md-nav__button md-logo" aria-label="pyTRIS">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"/></svg>

    </a>
    pyTRIS
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/asongtoruin/pyTRIS/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    asongtoruin/pyTRIS
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Getting Started
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Getting Started" class="md-nav__link md-nav__link--active">
      Getting Started
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-an-api-object" class="md-nav__link">
    Creating an API object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-endpoints" class="md-nav__link">
    Accessing Endpoints
  </a>
  
    <nav class="md-nav" aria-label="Accessing Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sites" class="md-nav__link">
    Sites
  </a>
  
    <nav class="md-nav" aria-label="Sites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#looking-up-one-site" class="md-nav__link">
    Looking up one site
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#looking-up-all-sites" class="md-nav__link">
    Looking up all sites
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reports" class="md-nav__link">
    Reports
  </a>
  
    <nav class="md-nav" aria-label="Reports">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#report-types" class="md-nav__link">
    Report Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required-parameters" class="md-nav__link">
    Required Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report-format" class="md-nav__link">
    Report Format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exporting-to-pandas" class="md-nav__link">
    Exporting to pandas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../endpoints/" title="Endpoints" class="md-nav__link">
      Endpoints
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-an-api-object" class="md-nav__link">
    Creating an API object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-endpoints" class="md-nav__link">
    Accessing Endpoints
  </a>
  
    <nav class="md-nav" aria-label="Accessing Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sites" class="md-nav__link">
    Sites
  </a>
  
    <nav class="md-nav" aria-label="Sites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#looking-up-one-site" class="md-nav__link">
    Looking up one site
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#looking-up-all-sites" class="md-nav__link">
    Looking up all sites
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reports" class="md-nav__link">
    Reports
  </a>
  
    <nav class="md-nav" aria-label="Reports">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#report-types" class="md-nav__link">
    Report Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required-parameters" class="md-nav__link">
    Required Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report-format" class="md-nav__link">
    Report Format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exporting-to-pandas" class="md-nav__link">
    Exporting to pandas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/asongtoruin/pyTRIS/edit/master/docs/getting-started.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                  <h1>Getting Started</h1>
                
                <h2 id="creating-an-api-object">Creating an API object<a class="headerlink" href="#creating-an-api-object" title="Permanent link">&para;</a></h2>
<p>The first step to accessing the data is to create an instance of the <code>API</code> 
object. The only parameter required is <code>version</code> - at the time of writing 
(July 2020), the only <code>version</code> of the webTRIS APIs that is available is 1.0, 
and so this is passed through by default</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytris</span> <span class="kn">import</span> <span class="n">API</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">API</span><span class="p">()</span>
</code></pre></div>

<h2 id="accessing-endpoints">Accessing Endpoints<a class="headerlink" href="#accessing-endpoints" title="Permanent link">&para;</a></h2>
<p>Endpoints are accessed through methods from the API object relating to their
corresponding resource. These are named in line with their descriptions from 
webTRIS, albeit with some modifications to match Python conventions. To access 
endpoints for Sites, for example, we can use:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytris</span> <span class="kn">import</span> <span class="n">API</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">API</span><span class="p">()</span>
<span class="n">sites</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sites</span><span class="p">()</span>
</code></pre></div>

<p>The methods that are available vary by the type of resource being accessed. Some
resources are provided as objects (<em>Sites</em>, <em>Areas</em> and <em>SiteTypes</em>) while 
others are provide data (<em>Reports</em> and <em>Quality</em>). Next we'll go on to briefly 
describe how to use the <em>Sites</em> and <em>Reports</em> endpoints, as these are likely to 
be the most used. Information on the other endpoints can be found in the 
<a href="../endpoints/">Endpoints</a> section.</p>
<h3 id="sites">Sites<a class="headerlink" href="#sites" title="Permanent link">&para;</a></h3>
<p>The Sites endpoints let the user look up information for one or all of the count
locations stored in webTRIS.</p>
<h4 id="looking-up-one-site">Looking up one site<a class="headerlink" href="#looking-up-one-site" title="Permanent link">&para;</a></h4>
<p>Sometimes you may need to look up information for a single site - for example, 
when checking data that's been provided to you from some other source. To do 
this, we can use the <code>.get()</code> method for sites and pass through the ID of the
site we want to find information about:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytris</span> <span class="kn">import</span> <span class="n">API</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">API</span><span class="p">()</span>
<span class="n">sites</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sites</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">sites</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>

<p>This will return a <code>Site</code> object - this is a data storage class containing the 
attributes relating to this site. The attributes are again named in line with 
the API documentation, so in this example we have:</p>
<ul>
<li><code>result.id</code> gives the Site ID</li>
<li><code>result.description</code> provides the description</li>
<li><code>result.longitude</code> provides the longitude of the site location</li>
<li><code>result.latitude</code> provides the latitude of the site location</li>
<li><code>result.status</code> details the status of the site (e.g. <em>Active</em>, <em>Inactive</em>)</li>
</ul>
<h4 id="looking-up-all-sites">Looking up all sites<a class="headerlink" href="#looking-up-all-sites" title="Permanent link">&para;</a></h4>
<p>You may also want to look up <em>all</em> of the webTRIS sites. There are, at time of
writing (July 2020), over 18,000 sites in webTRIS so care should be taken when
using this method. This may be useful, however, for mapping all sites and 
understanding which sites may be relevant for further analysis.</p>
<p>The <code>.all()</code> method returns a generator of <code>Site</code> objects, so in most cases 
you'll need to iterate through them:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytris</span> <span class="kn">import</span> <span class="n">API</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">API</span><span class="p">()</span>
<span class="n">sites</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sites</span><span class="p">()</span>

<span class="k">for</span> <span class="n">site</span> <span class="ow">in</span> <span class="n">sites</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
    <span class="c1"># Do something with each site</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">site</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">site</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
</code></pre></div>

<h3 id="reports">Reports<a class="headerlink" href="#reports" title="Permanent link">&para;</a></h3>
<p><code>pyTRIS</code> handles Reports in a slightly differently manner to Sites. </p>
<h4 id="report-types">Report Types<a class="headerlink" href="#report-types" title="Permanent link">&para;</a></h4>
<p>webTRIS provides three different kinds of report. In <code>pyTRIS</code>, we handle these
through different methods on the <code>API</code> object:</p>
<ul>
<li><code>.daily_reports()</code>, which provides data down to 15 minute intervals</li>
<li><code>.monthly_reports()</code>, which provides summaries by day</li>
<li><code>.annual_reports()</code>, which provides averages for each year</li>
</ul>
<h4 id="required-parameters">Required Parameters<a class="headerlink" href="#required-parameters" title="Permanent link">&para;</a></h4>
<p>Each of these methods has the same required parameters:</p>
<ul>
<li><code>sites</code> should either be:<ul>
<li>the <code>id</code> of a single site to be looked up, which can be passed as either a 
  string or integer</li>
<li>multiple site IDs joined with commas and provided as a single string - 
  e.g. <code>'8438,8439'</code></li>
</ul>
</li>
<li><code>start_date</code> should be a date in string format of <code>DDMMYYYY</code> - e.g. 
  <code>'01012020'</code> for the 1st January 2020</li>
<li><code>start_date</code> should be a date, again as a string in the same format</li>
</ul>
<details class="warning"><summary>Warning</summary><p>If any of the required parameters are missing, <code>pyTRIS</code> will raise a 
<code>ValueError</code> detailing the missing parameters.</p>
</details>
<h4 id="report-format">Report Format<a class="headerlink" href="#report-format" title="Permanent link">&para;</a></h4>
<p>The reports themselves are provided as lists - the format varies slightly 
between the different report types, but the columns provided are fairly 
straightforward.</p>
<h4 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h4>
<p>Putting this together, an example to get data for one site would be as follows:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytris</span> <span class="kn">import</span> <span class="n">API</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">API</span><span class="p">()</span>
<span class="n">daily</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">daily_reports</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">daily</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">sites</span><span class="o">=</span><span class="mi">8438</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="s1">&#39;01122019&#39;</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="s1">&#39;01022020&#39;</span>
<span class="p">)</span>
</code></pre></div>

<p>Changing to return <code>monthly_reports</code> or <code>annual_reports</code> just requires changing
the method used.</p>
<details class="example"><summary>Example for <code>monthly_reports</code></summary><p>To get monthly reports, the <code>daily_reports</code> example would change to be as 
follows:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytris</span> <span class="kn">import</span> <span class="n">API</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">API</span><span class="p">()</span>
<span class="n">monthly</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">monthly_reports</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">monthly</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">sites</span><span class="o">=</span><span class="mi">8438</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="s1">&#39;01122019&#39;</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="s1">&#39;01022020&#39;</span>
<span class="p">)</span>
</code></pre></div>

</details>
<details class="example"><summary>Example for Multiple Sites</summary><p>To get multiple sites, the <code>daily_reports</code> example would change to be as 
follows:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytris</span> <span class="kn">import</span> <span class="n">API</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">API</span><span class="p">()</span>
<span class="n">daily</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">daily_reports</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">daily</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;8438,8439&#39;</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="s1">&#39;01122019&#39;</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="s1">&#39;01022020&#39;</span>
<span class="p">)</span>
</code></pre></div>

</details>
<h4 id="exporting-to-pandas">Exporting to <code>pandas</code><a class="headerlink" href="#exporting-to-pandas" title="Permanent link">&para;</a></h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Installing <code>pyTRIS</code> does not install of <code>pandas</code> as a dependency, and as 
such the user must ensure that <code>pandas</code> is installed in their environment 
for the following examples to work.</p>
</div>
<p>Many data analysis processes in Python involve the use of <code>pandas</code> and its 
<code>DataFrame</code> objects. With this in mind, <code>pyTRIS</code> offers a direct way of 
exporting a <code>Report</code> to a <code>DataFrame</code> through the <code>to_frame()</code> method.</p>
<p>For <code>daily_reports</code> and <code>annual_reports</code>, this method directly returns a 
<code>DataFrame</code>, like so:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytris</span> <span class="kn">import</span> <span class="n">API</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">API</span><span class="p">()</span>
<span class="n">daily</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">daily_reports</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">daily</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">sites</span><span class="o">=</span><span class="mi">8438</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="s1">&#39;01122019&#39;</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="s1">&#39;01022020&#39;</span>
<span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
</code></pre></div>

<p>For <code>monthly_reports</code>, however, the process is slightly different. This endpoint
provides multiple aggregations of data. As such, the <code>to_frame()</code> method for 
this endpoint provides a <code>dict</code> of dataframes. The keys to this <code>dict</code> describe
the data contained within the values, which are:</p>
<ul>
<li><em>Days</em>, which provides total flows for each individual day</li>
<li><em>Daily Aggregations</em>, which provides averages for each weekday within each 
  month</li>
<li><em>Hourly Aggregations</em>, which provides averages by hour for each weekday within 
  each month</li>
<li><em>Summary Aggregations</em>, which provides high-level summary figures for each 
  month (e.g. ADT)</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href=".." title="Home" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </div>
            </div>
          </a>
        
        
          <a href="../endpoints/" title="Endpoints" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Endpoints
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.92ffa368.min.js"></script>
      <script src="../assets/javascripts/bundle.5123e3d4.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>